import numpy as np
import matplotlib.pyplot as plt
print("\n" + "="*60)
print("K-POP ê·¸ë£¹ì„ ë²¡í„°ë¡œ í‘œí˜„í•˜ê³  ìœ ì‚¬ë„ ë¹„êµí•˜ê¸°")
print("="*60)

def cosine_sim(v1, v2):
    norm1 = np.linalg.norm(v1)
    norm2 = np.linalg.norm(v2)
    if norm1 == 0 or norm2 == 0:
        return 0
    return np.dot(v1, v2) / (norm1 * norm2)

kpop_groups = {
    "BabyMonster": [10, 10],      
    "KissOfLife": [9, 8],      
    "All Day Project": [8, 9]       
}

print("\nK-POP ê·¸ë£¹ ë²¡í„°:")
for name, vec in kpop_groups.items():
    print(f"  {name}: {vec}")

group_names = list(kpop_groups.keys())
best_pair = None
best_similarity = -1  

print("\n[ì‹¤ìŠµ] ê·¸ë£¹ ìŒë³„ ì½”ì‚¬ì¸ ìœ ì‚¬ë„:")
for i in range(len(group_names)):
    for j in range(i + 1, len(group_names)):
        g1 = group_names[i]
        g2 = group_names[j]
        v1 = kpop_groups[g1]
        v2 = kpop_groups[g2]
        sim = cosine_sim(v1, v2)
        print(f"  {g1} â†” {g2}: {sim:.3f}")
        if sim > best_similarity:
            best_similarity = sim
            best_pair = (g1, g2)

print("\nê°€ì¥ ë¹„ìŠ·í•œ ë‘ ê·¸ë£¹:")
if best_pair:
    print(f"  {best_pair[0]} â†” {best_pair[1]} (ì½”ì‚¬ì¸ ìœ ì‚¬ë„: {best_similarity:.3f})")
plt.figure(figsize=(8, 6))

for name, vec in kpop_groups.items():
    x, y = vec
    plt.scatter(x, y, s=300, alpha=0.8, edgecolors='white', linewidth=2)
    plt.annotate(name, (x, y), xytext=(0, 10), textcoords='offset points', 
                 fontsize=12, ha='center', va='bottom', fontweight='bold')

plt.xlabel("ë…¸ë˜ (Vocal)", fontsize=12)
plt.ylabel("ì¶¤ (Dance)", fontsize=12)
plt.title("K-POP ê·¸ë£¹ [ë…¸ë˜, ì¶¤] ë²¡í„° ì‹œê°í™”", fontsize=14, fontweight='bold')
plt.grid(True, alpha=0.3, linestyle='--')
plt.xlim(0, 12)
plt.ylim(0, 12)
plt.tight_layout()
plt.show()


!sudo apt-get install -y fonts-nanum
!sudo fc-cache -fv
!rm ~/.cache/matplotlib -rf

import numpy as np
import matplotlib.pyplot as plt

print("\n" + "="*60)
print("ğŸ”¥ ë„ì „ 2: 5ê°€ì§€ ìŒì‹ ë¦¬ë·° ì·¨í–¥ ë¶„ì„")
print("="*60)

def cosine_sim(v1, v2):
    norm1 = np.linalg.norm(v1)
    norm2 = np.linalg.norm(v2)
    if norm1 == 0 or norm2 == 0:
        return 0
    return np.dot(v1, v2) / (norm1 * norm2)
friends_reviews = {
    "ì¼€ì´í¬": "ì¼€ì´í¬ëŠ” ì–¸ì œë‚˜ ë‹¬ì½¤í•˜ê³  ì–¸ì œë‚˜ ë¶€ë“œëŸ½ê³  ìì‹ ì„ ë°°ì‹ í•˜ì§€ ì•ŠëŠ”ë‹¤",
    "ì¼€ë°¥": "ê·¸ëƒ¥ ê°œ ë§›ìˆìŒ",
    "ë–¡ë³¶ì´": "ì«€ë“í•˜ê¸°ë•Œë¬¸ì—",
    "ì‚¼ê²¹ì‚´": "ì´ê²ƒë„ ë§›ìˆìŒ",
    "í–„ë²„ê±°": "ì™„ë²½í•œ íƒ„ë‹¨ì§€ ë¹„ìœ¨ ë¨¹ê³  ì¹˜ìš°ê¸° ì™„ë²½í•¨ ì£¼ë³€ì—ì„œ ì‰½ê²Œ ì ‘í•¨"
}

print("\në¦¬ë·° ëª©ë¡:")
for name, review in friends_reviews.items():
    print(f"  {name}: {review}")
all_food_words = []
for review in friends_reviews.values():
    all_food_words.extend(review.split())

vocab = sorted(set(all_food_words))
print(f"(ì´ {len(vocab)}ê°œ ë‹¨ì–´)\n")
friend_vectors = {}
print("ê° ë¦¬ë·°ì˜ ë²¡í„° í‘œí˜„:")

for name, review in friends_reviews.items():
    words = review.split()
    vector = [words.count(word) for word in vocab]
    friend_vectors[name] = vector
    print(f"\n{name}")
    meaning_str = []
    for i, word in enumerate(vocab):
        if vector[i] > 0:
            meaning_str.append(f"{word}({vector[i]})")
    print(f" í¬í•¨ëœ ë‹¨ì–´: {', '.join(meaning_str)}")

friend_names = list(friends_reviews.keys())
max_similarity = -1
most_similar_pair = None

print("\n[ì‹¤ìŠµ] ìŒë³„ ì½”ì‚¬ì¸ ìœ ì‚¬ë„:")
found_similarity = False 

for i in range(len(friend_names)):
    for j in range(i + 1, len(friend_names)):
        f1 = friend_names[i]
        f2 = friend_names[j]
        v1 = friend_vectors[f1]
        v2 = friend_vectors[f2]
        
        sim = cosine_sim(v1, v2)
        print(f"  {f1} â†” {f2}: {sim:.3f}")
        
        if sim > max_similarity:
            max_similarity = sim
            most_similar_pair = (f1, f2)
        
        if sim > 0:
            found_similarity = True

print("\në¶„ì„ ê²°ê³¼:")
if found_similarity and most_similar_pair:
    print(f"  ê°€ì¥ ë¹„ìŠ·í•œ ë¦¬ë·°: {most_similar_pair[0]} â†” {most_similar_pair[1]}")
    print(f"  (ì½”ì‚¬ì¸ ìœ ì‚¬ë„: {max_similarity:.3f})")
else:
    print("  ê²¹ì¹˜ëŠ” ë‹¨ì–´ ì—†ìŒ")
n = len(friend_names)
similarity_matrix = np.zeros((n, n))

for i in range(n):
    for j in range(n):
        v1 = friend_vectors[friend_names[i]]
        v2 = friend_vectors[friend_names[j]]
        similarity_matrix[i][j] = cosine_sim(v1, v2)

plt.rcParams['font.family'] = 'Malgun Gothic' 
plt.rcParams['axes.unicode_minus'] = False

plt.figure(figsize=(8, 6))
plt.imshow(similarity_matrix, cmap='YlOrRd', aspect='auto')
plt.colorbar(label='Cosine Similarity')
plt.xticks(range(n), friend_names, rotation=45)
plt.yticks(range(n), friend_names)
plt.title('ìŒì‹ ë¦¬ë·° ìœ ì‚¬ë„ Heatmap', fontsize=14, fontweight='bold')

for i in range(n):
    for j in range(n):
        plt.text(j, i, f"{similarity_matrix[i][j]:.2f}",
                 ha='center', va='center',
                 color='black' if similarity_matrix[i][j] < 0.5 else 'white')

plt.tight_layout()
plt.show()
